{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "link",
  "type": "registry:ui",
  "title": "链接",
  "description": "链接组件，用于导航等元素的链接",
  "dependencies": [
    "@react-types/link"
  ],
  "files": [
    {
      "path": "registry/ui/link/index.ts",
      "content": "import Link from \"./link\";\n\n// export types\nexport type { LinkProps } from \"./link\";\n\n// export hooks\nexport { useLink } from \"./use-link\";\n\n// export component\nexport { Link };\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/ui/link/link.tsx",
      "content": "\"use client\";\n\nimport type { UseLinkProps } from \"./use-link\";\n\nimport { linkAnchorClasses } from \"./theme\";\nimport { useLink } from \"./use-link\";\n\nimport { LinkIcon } from \"@/icons/link\";\nimport { forwardRef } from \"@/lib/system\";\n\nexport interface LinkProps extends UseLinkProps {}\n\nconst Link = forwardRef<\"a\", LinkProps>((props, ref) => {\n  const {\n    Component,\n    children,\n    showAnchorIcon,\n    anchorIcon = <LinkIcon className={linkAnchorClasses} />,\n    getLinkProps,\n  } = useLink({\n    ref,\n    ...props,\n  });\n\n  return (\n    <Component {...getLinkProps()}>\n      <>\n        {children}\n        {showAnchorIcon && anchorIcon}\n      </>\n    </Component>\n  );\n});\n\nLink.displayName = \"HeroUI.Link\";\n\nexport default Link;\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/ui/link/theme.ts",
      "content": "import type { VariantProps } from \"tailwind-variants\";\n\nimport { dataFocusVisibleClasses } from \"@/lib/theme/utils/classes\";\nimport { tv } from \"@/lib/theme/utils/tv\";\n\n/**\n * Link wrapper **Tailwind Variants** component\n *\n * @example\n * <a className={link({ color: \"secondary\", isBlock: true })} href=\"#\" />\n */\nconst link = tv({\n  base: [\n    \"relative inline-flex items-center outline-solid outline-transparent tap-highlight-transparent\",\n    // focus ring\n    ...dataFocusVisibleClasses,\n  ],\n  variants: {\n    size: {\n      sm: \"text-small\",\n      md: \"text-medium\",\n      lg: \"text-large\",\n    },\n    color: {\n      foreground: \"text-foreground\",\n      primary: \"text-primary\",\n      secondary: \"text-secondary\",\n      success: \"text-success\",\n      warning: \"text-warning\",\n      danger: \"text-danger\",\n    },\n    underline: {\n      none: \"no-underline\",\n      hover: \"hover:underline\",\n      always: \"underline\",\n      active: \"active:underline\",\n      focus: \"focus:underline\",\n    },\n    isBlock: {\n      true: [\n        \"px-2\",\n        \"py-1\",\n        \"hover:after:opacity-100\",\n        \"after:content-['']\",\n        \"after:inset-0\",\n        \"after:opacity-0\",\n        \"after:w-full\",\n        \"after:h-full\",\n        \"after:rounded-xl\",\n        \"after:transition-background\",\n        \"after:absolute\",\n      ],\n      false: \"hover:opacity-hover active:opacity-disabled transition-opacity\",\n    },\n    isDisabled: {\n      true: \"opacity-disabled cursor-default pointer-events-none\",\n    },\n    disableAnimation: {\n      true: \"after:transition-none transition-none\",\n    },\n  },\n  compoundVariants: [\n    {\n      isBlock: true,\n      color: \"foreground\",\n      class: \"hover:after:bg-foreground/10\",\n    },\n    {\n      isBlock: true,\n      color: \"primary\",\n      class: \"hover:after:bg-primary/20\",\n    },\n    {\n      isBlock: true,\n      color: \"secondary\",\n      class: \"hover:after:bg-secondary/20\",\n    },\n    {\n      isBlock: true,\n      color: \"success\",\n      class: \"hover:after:bg-success/20\",\n    },\n    {\n      isBlock: true,\n      color: \"warning\",\n      class: \"hover:after:bg-warning/20\",\n    },\n    {\n      isBlock: true,\n      color: \"danger\",\n      class: \"hover:after:bg-danger/20\",\n    },\n    {\n      underline: [\"hover\", \"always\", \"active\", \"focus\"],\n      class: \"underline-offset-4\",\n    },\n  ],\n  defaultVariants: {\n    color: \"primary\",\n    size: \"md\",\n    isBlock: false,\n    underline: \"none\",\n    isDisabled: false,\n  },\n});\n\nexport const linkAnchorClasses = \"flex mx-1 text-current self-center\";\n\nexport type LinkVariantProps = VariantProps<typeof link>;\n\nexport { link };\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/ui/link/use-link.ts",
      "content": "\"use client\";\n\nimport type { ReactRef } from \"@/lib/react\";\nimport type { HTMLHeroUIProps, PropGetter } from \"@/lib/system\";\nimport type { AriaLinkProps } from \"@react-types/link\";\nimport type { MouseEventHandler } from \"react\";\nimport type { LinkVariantProps } from \"./theme\";\n\nimport { useFocusRing } from \"@react-aria/focus\";\nimport { useCallback, useMemo } from \"react\";\n\nimport { link } from \"./theme\";\n\nimport { useAriaLink } from \"@/hooks/use-aria-link\";\nimport { dataAttr, mergeProps, objectToDeps } from \"@/lib/base\";\nimport { useDOMRef } from \"@/lib/react\";\nimport { mapPropsVariants, useProviderContext } from \"@/lib/system\";\n\ninterface Props extends HTMLHeroUIProps<\"a\">, LinkVariantProps {\n  /**\n   * Ref to the DOM node.\n   */\n  ref?: ReactRef<HTMLAnchorElement | null>;\n  /**\n   * Whether the link is external.\n   * @default false\n   */\n  isExternal?: boolean;\n  /**\n   * Whether to show the icon when the link is external.\n   * @default false\n   */\n  showAnchorIcon?: boolean;\n  /**\n   * The icon to display right after the link.\n   * @default <LinkIcon />\n   */\n  anchorIcon?: React.ReactNode;\n  /**\n   * The native link click event handler.\n   * use `onPress` instead.\n   * @deprecated\n   */\n  onClick?: MouseEventHandler<HTMLAnchorElement>;\n}\n\nexport type UseLinkProps = Props & AriaLinkProps;\n\nexport function useLink(originalProps: UseLinkProps) {\n  const globalContext = useProviderContext();\n\n  const [props, variantProps] = mapPropsVariants(originalProps, link.variantKeys);\n\n  const {\n    ref,\n    as,\n    children,\n    anchorIcon,\n    isExternal = false,\n    showAnchorIcon = false,\n    autoFocus = false,\n    className,\n    onPress,\n    onPressStart,\n    onPressEnd,\n    onClick,\n    ...otherProps\n  } = props;\n\n  const Component = as || \"a\";\n\n  const domRef = useDOMRef(ref);\n  const disableAnimation = originalProps?.disableAnimation ?? globalContext?.disableAnimation ?? false;\n\n  // use `@heroui/use-aria-link` to suppress onClick deprecation warning\n  const { linkProps } = useAriaLink(\n    {\n      ...otherProps,\n      onPress,\n      onPressStart,\n      onPressEnd,\n      // @ts-ignore React Aria Link does accept onClick as a prop but it's not in the types\n      onClick,\n      isDisabled: originalProps.isDisabled,\n      elementType: `${as}`,\n    },\n    domRef,\n  );\n\n  const { isFocused, isFocusVisible, focusProps } = useFocusRing({\n    autoFocus,\n  });\n\n  if (isExternal) {\n    otherProps.rel = otherProps.rel ?? \"noopener noreferrer\";\n    otherProps.target = otherProps.target ?? \"_blank\";\n  }\n\n  const styles = useMemo(\n    () =>\n      link({\n        ...variantProps,\n        disableAnimation,\n        className,\n      }),\n    [objectToDeps(variantProps), disableAnimation, className],\n  );\n\n  const getLinkProps: PropGetter = useCallback(() => {\n    return {\n      ref: domRef,\n      className: styles,\n      \"data-focus\": dataAttr(isFocused),\n      \"data-disabled\": dataAttr(originalProps.isDisabled),\n      \"data-focus-visible\": dataAttr(isFocusVisible),\n      ...mergeProps(focusProps, linkProps, otherProps),\n    };\n  }, [styles, isFocused, isFocusVisible, focusProps, linkProps, otherProps]);\n\n  return { Component, children, anchorIcon, showAnchorIcon, getLinkProps };\n}\n\nexport type UseLinkReturn = ReturnType<typeof useLink>;\n",
      "type": "registry:ui"
    },
    {
      "path": "icons/link.tsx",
      "content": "import type { IconSvgProps } from \"./types\";\n\nexport const LinkIcon = (props: IconSvgProps) => (\n  <svg\n    aria-hidden=\"true\"\n    fill=\"none\"\n    focusable=\"false\"\n    height=\"1em\"\n    shapeRendering=\"geometricPrecision\"\n    stroke=\"currentColor\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    strokeWidth=\"1.5\"\n    viewBox=\"0 0 24 24\"\n    width=\"1em\"\n    {...props}\n  >\n    <path d=\"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6\" />\n    <path d=\"M15 3h6v6\" />\n    <path d=\"M10 14L21 3\" />\n  </svg>\n);\n",
      "type": "registry:file",
      "target": "~/src/icons/link.tsx"
    },
    {
      "path": "hooks/use-aria-link/index.ts",
      "content": "import type { AriaLinkProps } from \"@react-types/link\";\nimport type { DOMAttributes, FocusableElement } from \"@react-types/shared\";\nimport type { RefObject } from \"react\";\n\nimport { useFocusable } from \"@react-aria/focus\";\nimport { usePress } from \"@react-aria/interactions\";\nimport { filterDOMProps, handleLinkClick, mergeProps, useLinkProps, useRouter } from \"@react-aria/utils\";\n\nexport interface AriaLinkOptions extends AriaLinkProps {\n  /** Indicates the element that represents the current item within a container or set of related elements. */\n  \"aria-current\"?: DOMAttributes[\"aria-current\"];\n  /** Whether the link is disabled. */\n  isDisabled?: boolean;\n  /**\n   * The HTML element used to render the link, e.g. 'a', or 'span'.\n   * @default 'a'\n   */\n  elementType?: string;\n}\n\nexport interface LinkAria {\n  /** Props for the link element. */\n  linkProps: DOMAttributes;\n  /** Whether the link is currently pressed. */\n  isPressed: boolean;\n}\n\n/**\n * Provides the behavior and accessibility implementation for a link component.\n * A link allows a user to navigate to another page or resource within a web page\n * or application.\n */\nexport function useAriaLink(props: AriaLinkOptions, ref: RefObject<FocusableElement>): LinkAria {\n  let { elementType = \"a\", onPress, onPressStart, onPressEnd, onClick, isDisabled, ...otherProps } = props;\n\n  let linkProps: DOMAttributes = {};\n\n  if (elementType !== \"a\") {\n    linkProps = {\n      role: \"link\",\n      tabIndex: !isDisabled ? 0 : undefined,\n    };\n  }\n\n  let { focusableProps } = useFocusable(props, ref);\n  let { pressProps, isPressed } = usePress({\n    onClick,\n    onPress,\n    onPressStart,\n    onPressEnd,\n    isDisabled,\n    ref,\n  });\n  let domProps = filterDOMProps(otherProps, { labelable: true, isLink: elementType === \"a\" });\n  let interactionHandlers = mergeProps(focusableProps, pressProps);\n  let router = useRouter();\n  let routerLinkProps = useLinkProps(props);\n\n  return {\n    isPressed, // Used to indicate press state for visual\n    linkProps: mergeProps(domProps, routerLinkProps, {\n      ...interactionHandlers,\n      ...linkProps,\n      \"aria-disabled\": isDisabled || undefined,\n      \"aria-current\": props[\"aria-current\"],\n      onClick: (e: React.MouseEvent<HTMLAnchorElement>) => {\n        pressProps.onClick?.(e);\n        handleLinkClick(e, router, props.href, props.routerOptions);\n      },\n    }),\n  };\n}\n",
      "type": "registry:hook"
    }
  ]
}