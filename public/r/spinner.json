{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "spinner",
  "type": "registry:ui",
  "title": "加载指示器",
  "description": "动画加载指示器组件",
  "dependencies": [],
  "files": [
    {
      "path": "registry/ui/spinner/index.ts",
      "content": "// export types\nexport type { SpinnerProps } from \"./spinner\";\n\n// export hooks\nexport { useSpinner } from \"./use-spinner\";\n\n// export component\nexport { default as Spinner } from \"./spinner\";\n",
      "type": "registry:component"
    },
    {
      "path": "registry/ui/spinner/spinner.tsx",
      "content": "import type { UseSpinnerProps } from \"./use-spinner\";\n\nimport { useSpinner } from \"./use-spinner\";\n\nimport { forwardRef } from \"@/lib/system-rsc\";\n\nexport interface SpinnerProps extends UseSpinnerProps {}\n\nconst Spinner = forwardRef<\"div\", SpinnerProps>((props, ref) => {\n  const { slots, classNames, label, variant, getSpinnerProps } = useSpinner({ ...props });\n\n  if (variant === \"wave\" || variant === \"dots\") {\n    return (\n      <div ref={ref} {...getSpinnerProps()}>\n        <div className={slots.wrapper({ class: classNames?.wrapper })}>\n          {[...new Array(3)].map((_, index) => (\n            <i\n              key={`dot-${index}`}\n              className={slots.dots({ class: classNames?.dots })}\n              style={\n                {\n                  \"--dot-index\": index,\n                } as React.CSSProperties\n              }\n            />\n          ))}\n        </div>\n        {label && <span className={slots.label({ class: classNames?.label })}>{label}</span>}\n      </div>\n    );\n  }\n\n  if (variant === \"simple\") {\n    return (\n      <div ref={ref} {...getSpinnerProps()}>\n        <svg className={slots.wrapper({ class: classNames?.wrapper })} fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle\n            className={slots.circle1({ class: classNames?.circle1 })}\n            cx=\"12\"\n            cy=\"12\"\n            r=\"10\"\n            stroke=\"currentColor\"\n            strokeWidth=\"4\"\n          />\n          <path\n            className={slots.circle2({ class: classNames?.circle2 })}\n            d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            fill=\"currentColor\"\n          />\n        </svg>\n        {label && <span className={slots.label({ class: classNames?.label })}>{label}</span>}\n      </div>\n    );\n  }\n\n  if (variant === \"spinner\") {\n    return (\n      <div ref={ref} {...getSpinnerProps()}>\n        <div className={slots.wrapper({ class: classNames?.wrapper })}>\n          {[...new Array(12)].map((_, index) => (\n            <i\n              key={`star-${index}`}\n              className={slots.spinnerBars({ class: classNames?.spinnerBars })}\n              style={\n                {\n                  \"--bar-index\": index,\n                } as React.CSSProperties\n              }\n            />\n          ))}\n        </div>\n        {label && <span className={slots.label({ class: classNames?.label })}>{label}</span>}\n      </div>\n    );\n  }\n\n  return (\n    <div ref={ref} {...getSpinnerProps()}>\n      <div className={slots.wrapper({ class: classNames?.wrapper })}>\n        <i className={slots.circle1({ class: classNames?.circle1 })} />\n        <i className={slots.circle2({ class: classNames?.circle2 })} />\n      </div>\n      {label && <span className={slots.label({ class: classNames?.label })}>{label}</span>}\n    </div>\n  );\n});\n\nSpinner.displayName = \"HeroUI.Spinner\";\n\nexport default Spinner;\n",
      "type": "registry:component"
    },
    {
      "path": "registry/ui/spinner/theme.ts",
      "content": "import type { VariantProps } from \"tailwind-variants\";\n\nimport { tv } from \"@/lib/theme/utils/tv\";\n\n/**\n * Spinner wrapper **Tailwind Variants** component\n *\n * const {base, circle1, circle2, label } = spinner({...})\n *\n * @example\n * <div className={base())}>\n *    <i className={circle1()}/>\n *    <i className={circle2()}/>\n *    <span className={label()}/>\n * </div>\n */\nconst spinner = tv({\n  slots: {\n    base: \"relative inline-flex flex-col gap-2 items-center justify-center\",\n    wrapper: \"relative flex\",\n    label: \"text-foreground dark:text-foreground-dark font-regular\",\n    circle1: \"absolute w-full h-full rounded-full\",\n    circle2: \"absolute w-full h-full rounded-full\",\n    dots: \"relative rounded-full mx-auto\",\n    spinnerBars: [\n      \"absolute\",\n      \"rounded-full\",\n      \"w-[25%]\",\n      \"h-[8%]\",\n      \"left-[calc(37.5%)]\",\n      \"top-[calc(46%)]\",\n      \"spinner-bar-animation\",\n    ],\n  },\n  variants: {\n    size: {\n      sm: {\n        wrapper: \"w-5 h-5\",\n        circle1: \"border-2\",\n        circle2: \"border-2\",\n        dots: \"size-1\",\n        label: \"text-small\",\n      },\n      md: {\n        wrapper: \"w-8 h-8\",\n        circle1: \"border-3\",\n        circle2: \"border-3\",\n        dots: \"size-1.5\",\n        label: \"text-medium\",\n      },\n      lg: {\n        wrapper: \"w-10 h-10\",\n        circle1: \"border-3\",\n        circle2: \"border-3\",\n        dots: \"size-2\",\n        label: \"text-large\",\n      },\n    },\n    color: {\n      current: {\n        circle1: \"border-b-current\",\n        circle2: \"border-b-current\",\n        dots: \"bg-current\",\n        spinnerBars: \"bg-current\",\n      },\n      white: {\n        circle1: \"border-b-white\",\n        circle2: \"border-b-white\",\n        dots: \"bg-white\",\n        spinnerBars: \"bg-white\",\n      },\n      default: {\n        circle1: \"border-b-default\",\n        circle2: \"border-b-default\",\n        dots: \"bg-default\",\n        spinnerBars: \"bg-default\",\n      },\n      primary: {\n        circle1: \"border-b-primary\",\n        circle2: \"border-b-primary\",\n        dots: \"bg-primary\",\n        spinnerBars: \"bg-primary\",\n      },\n      secondary: {\n        circle1: \"border-b-secondary\",\n        circle2: \"border-b-secondary\",\n        dots: \"bg-secondary\",\n        spinnerBars: \"bg-secondary\",\n      },\n      success: {\n        circle1: \"border-b-success\",\n        circle2: \"border-b-success\",\n        dots: \"bg-success\",\n        spinnerBars: \"bg-success\",\n      },\n      warning: {\n        circle1: \"border-b-warning\",\n        circle2: \"border-b-warning\",\n        dots: \"bg-warning\",\n        spinnerBars: \"bg-warning\",\n      },\n      danger: {\n        circle1: \"border-b-danger\",\n        circle2: \"border-b-danger\",\n        dots: \"bg-danger\",\n        spinnerBars: \"bg-danger\",\n      },\n    },\n    labelColor: {\n      foreground: {\n        label: \"text-foreground\",\n      },\n      primary: {\n        label: \"text-primary\",\n      },\n      secondary: {\n        label: \"text-secondary\",\n      },\n      success: {\n        label: \"text-success\",\n      },\n      warning: {\n        label: \"text-warning\",\n      },\n      danger: {\n        label: \"text-danger\",\n      },\n    },\n    variant: {\n      default: {\n        circle1: [\n          \"animate-spinner-ease-spin\",\n          \"border-solid\",\n          \"border-t-transparent\",\n          \"border-l-transparent\",\n          \"border-r-transparent\",\n        ],\n        circle2: [\n          \"opacity-75\",\n          \"animate-spinner-linear-spin\",\n          \"border-dotted\",\n          \"border-t-transparent\",\n          \"border-l-transparent\",\n          \"border-r-transparent\",\n        ],\n      },\n      gradient: {\n        circle1: [\n          \"border-0\",\n          \"bg-gradient-to-b\",\n          \"from-transparent\",\n          \"via-transparent\",\n          \"to-primary\",\n          \"animate-spinner-linear-spin\",\n          \"[animation-duration:1s]\",\n          \"[-webkit-mask:radial-gradient(closest-side,rgba(0,0,0,0.0)calc(100%-3px),rgba(0,0,0,1)calc(100%-3px))]\",\n        ],\n        circle2: [\"hidden\"],\n      },\n      wave: {\n        wrapper: \"translate-y-3/4\",\n        dots: [\"animate-sway\", \"spinner-dot-animation\"],\n      },\n      dots: {\n        wrapper: \"translate-y-2/4\",\n        dots: [\"animate-blink\", \"spinner-dot-blink-animation\"],\n      },\n      spinner: {},\n      simple: {\n        wrapper: \"text-foreground h-5 w-5 animate-spin\",\n        circle1: \"opacity-25\",\n        circle2: \"opacity-75\",\n      },\n    },\n  },\n  defaultVariants: {\n    size: \"md\",\n    color: \"primary\",\n    labelColor: \"foreground\",\n    variant: \"default\",\n  },\n  compoundVariants: [\n    { variant: \"gradient\", color: \"current\", class: { circle1: \"to-current\" } },\n    { variant: \"gradient\", color: \"white\", class: { circle1: \"to-white\" } },\n    { variant: \"gradient\", color: \"default\", class: { circle1: \"to-default\" } },\n    { variant: \"gradient\", color: \"primary\", class: { circle1: \"to-primary\" } },\n    { variant: \"gradient\", color: \"secondary\", class: { circle1: \"to-secondary\" } },\n    { variant: \"gradient\", color: \"success\", class: { circle1: \"to-success\" } },\n    { variant: \"gradient\", color: \"warning\", class: { circle1: \"to-warning\" } },\n    { variant: \"gradient\", color: \"danger\", class: { circle1: \"to-danger\" } },\n    {\n      variant: \"wave\",\n      size: \"sm\",\n      class: {\n        wrapper: \"w-5 h-5\",\n      },\n    },\n    {\n      variant: \"wave\",\n      size: \"md\",\n      class: {\n        wrapper: \"w-8 h-8\",\n      },\n    },\n    {\n      variant: \"wave\",\n      size: \"lg\",\n      class: {\n        wrapper: \"w-12 h-12\",\n      },\n    },\n    {\n      variant: \"dots\",\n      size: \"sm\",\n      class: {\n        wrapper: \"w-5 h-5\",\n      },\n    },\n    {\n      variant: \"dots\",\n      size: \"md\",\n      class: {\n        wrapper: \"w-8 h-8\",\n      },\n    },\n    {\n      variant: \"dots\",\n      size: \"lg\",\n      class: {\n        wrapper: \"w-12 h-12\",\n      },\n    },\n    // Simple variants\n    // Size\n    {\n      variant: \"simple\",\n      size: \"sm\",\n      class: {\n        wrapper: \"w-5 h-5\",\n      },\n    },\n    {\n      variant: \"simple\",\n      size: \"md\",\n      class: {\n        wrapper: \"w-8 h-8\",\n      },\n    },\n    {\n      variant: \"simple\",\n      size: \"lg\",\n      class: {\n        wrapper: \"w-12 h-12\",\n      },\n    },\n    // Color\n    {\n      variant: \"simple\",\n      color: \"current\",\n      class: {\n        wrapper: \"text-current\",\n      },\n    },\n    {\n      variant: \"simple\",\n      color: \"white\",\n      class: {\n        wrapper: \"text-white\",\n      },\n    },\n    {\n      variant: \"simple\",\n      color: \"default\",\n      class: {\n        wrapper: \"text-default\",\n      },\n    },\n    {\n      variant: \"simple\",\n      color: \"primary\",\n      class: {\n        wrapper: \"text-primary\",\n      },\n    },\n    {\n      variant: \"simple\",\n      color: \"secondary\",\n      class: {\n        wrapper: \"text-secondary\",\n      },\n    },\n    {\n      variant: \"simple\",\n      color: \"success\",\n      class: {\n        wrapper: \"text-success\",\n      },\n    },\n    {\n      variant: \"simple\",\n      color: \"warning\",\n      class: {\n        wrapper: \"text-warning\",\n      },\n    },\n    {\n      variant: \"simple\",\n      color: \"danger\",\n      class: {\n        wrapper: \"text-danger\",\n      },\n    },\n  ],\n});\n\nexport type SpinnerVariantProps = VariantProps<typeof spinner>;\nexport type SpinnerSlots = keyof ReturnType<typeof spinner>;\n\nexport { spinner };\n",
      "type": "registry:component"
    },
    {
      "path": "registry/ui/spinner/use-spinner.ts",
      "content": "import type { HTMLHeroUIProps, PropGetter } from \"@/lib/system-rsc\";\nimport type { SlotsToClasses } from \"@/lib/theme/utils/types\";\nimport type { Ref } from \"react\";\nimport type { SpinnerSlots, SpinnerVariantProps } from \"./theme\";\n\nimport { useCallback, useMemo } from \"react\";\n\nimport { spinner } from \"./theme\";\n\nimport { clsx, objectToDeps } from \"@/lib/base\";\nimport { useProviderContext } from \"@/lib/system\";\nimport { mapPropsVariants } from \"@/lib/system-rsc\";\n\ninterface Props extends HTMLHeroUIProps<\"div\"> {\n  /**\n   * Ref to the DOM node.\n   */\n  ref?: Ref<HTMLElement | null>;\n  /**\n   * Spinner label, in case you passed it will be used as `aria-label`.\n   */\n  label?: string;\n  /**\n   * Classname or List of classes to change the classNames of the element.\n   * if `className` is passed, it will be added to the base slot.\n   *\n   * @example\n   * ```ts\n   * <Spinner classNames={{\n   *    base:\"base-classes\",\n   *    wrapper: \"wrapper-classes\",\n   *    circle1: \"circle1-classes\",\n   *    circle2: \"circle2-classes\",\n   *    label: \"label-classes\"\n   * }} />\n   * ```\n   */\n  classNames?: SlotsToClasses<SpinnerSlots>;\n}\n\nexport type UseSpinnerProps = Props & SpinnerVariantProps;\n\nexport function useSpinner(originalProps: UseSpinnerProps) {\n  const [props, variantProps] = mapPropsVariants(originalProps, spinner.variantKeys);\n\n  const globalContext = useProviderContext();\n  const variant = originalProps?.variant ?? globalContext?.spinnerVariant ?? \"default\";\n\n  const { children, className, classNames, label: labelProp, ...otherProps } = props;\n\n  const slots = useMemo(() => spinner({ ...variantProps }), [objectToDeps(variantProps)]);\n\n  const baseStyles = clsx(classNames?.base, className);\n\n  const label = labelProp || children;\n\n  const ariaLabel = useMemo(() => {\n    if (label && typeof label === \"string\") {\n      return label;\n    }\n\n    return !otherProps[\"aria-label\"] ? \"Loading\" : \"\";\n  }, [children, label, otherProps[\"aria-label\"]]);\n\n  const getSpinnerProps = useCallback<PropGetter>(\n    () => ({\n      \"aria-label\": ariaLabel,\n      className: slots.base({\n        class: baseStyles,\n      }),\n      ...otherProps,\n    }),\n    [ariaLabel, slots, baseStyles, otherProps],\n  );\n\n  return { label, slots, classNames, variant, getSpinnerProps };\n}\n\nexport type UseSpinnerReturn = ReturnType<typeof useSpinner>;\n",
      "type": "registry:component"
    }
  ]
}